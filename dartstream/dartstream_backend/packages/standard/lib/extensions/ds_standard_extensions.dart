//Additional extensions and shared logic for extensions.